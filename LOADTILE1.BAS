10 REM UNLOCK THE TILE ENGINE FEATURE FLAG
20 VDU 23,0,248,768;0;
30 :
40 REM INIT TILEBANK
50 VDU 23,0,194,0,0,0,0,0
60 :
70 PROCsetuptile
80 PROCloadtile("TILE1.TILE")
90 PROCmaketile(1)
100 PROCdrawtile(1,10,10)
110 :
120 END
130 :
140 DEF PROCsetuptile
150     LOCAL R%, C%, P%
160     DIM TILE%(7,7)
170     P%=0
180     FOR R%=0 TO 7
190       FOR C%=0 TO 7
200         TILE%(C%,R%)=P%
210       NEXT C%
220     NEXT R%
230 ENDPROC
240 :
250 DEF PROCloadtile(FILENAME$)
260     LOCAL X%, Y%
270     LOCAL FILE%, VERSION%, HEADER2%, HEADER3%, HEADER4%
280     FILE%=OPENIN(FILENAME$)
290     VERSION%=BGET#FILE%
300     HEADER2%=BGET#FILE%
310     HEADER3%=BGET#FILE%
320     HEADER4%=BGET#FILE%
330     FOR Y%=0 TO 7
340       FOR X%=0 TO 7
350         TILE%(X%,Y%)=BGET#FILE%
360       NEXT X%
370     NEXT Y%
380     CLOSE#FILE%
390 ENDPROC
400 :
410 DEF PROCmaketile(TILE_ID%)
420     LOCAL R%, C%, P%
430     VDU 23,0,194,1,0,TILE_ID%
440     FOR R%=0 TO 7
450         FOR C%=0 TO 7
460             P%=TILE%(C%,R%)
470             VDU P%
480         NEXT C%
490     NEXT R%
500 ENDPROC
510 :
520 DEF PROCdrawtile(TILE_ID%, X%, Y%)
530     VDU 23,0,194,6,0,TILE_ID%,0,X%,Y%,0,0,0
540 ENDPROC
